package Imaging::Test::Dir::checkPermissions;
use Moo;

sub is_fatal {
    1;
};

sub test {
    my $self = shift;
    my $topdir = $self->dir();
    my $files = $self->files();
    my $directories = $self->directories();
    my(@errors) = ();
    foreach my $stats(@$files,@$directories){
        if(!-r $stats->{path}){
            push @errors,$stats->{basename}." is niet leesbaar";
        }
    }
    scalar(@errors) == 0,\@errors;
}   

with qw(Imaging::Test::Dir);

1;
